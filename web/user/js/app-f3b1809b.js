webpackJsonp([1],{"+pK0":function(e,t){},"991W":function(e,t){},"9aVa":function(e,t){},Gxed:function(e,t){},HBSQ:function(e,t){},JWxX:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MVMM"),r=a("rVsN"),o=a.n(r),i=a("aozt"),s=a.n(i),l=a("DEjr"),c=a.n(l),u=a("b13w"),d=a.n(u);s.a.defaults.timeout=6e4;var m=document.querySelector("meta[name=csrf]").getAttribute("content"),p="";function f(e,t){return new o.a(function(a,n){s.a.get(e,t).then(function(e){a(e)},function(e){n(e)}).catch(function(e){n(e)})})}function g(e,t,a){return new o.a(function(n,r){s.a.post(e,t,a).then(function(e){n(e)},function(e){r(e)}).catch(function(e){r(e)})})}location.href.match("8080")&&(p="/api"),s.a.interceptors.request.use(function(e){e.url=p+e.url;var t=e.method;return"post"!==t&&"put"!==t&&"delete"!==t||(e.data=c.a.stringify(e.data),e.headers={"X-CSRF-TOKEN":m,"Content-Type":"application/x-www-form-urlencoded"}),e},function(e){return Object(u.Message)("请求参数错误"),o.a.reject(e)}),s.a.interceptors.response.use(function(e){var t=e.data,a=e.headers._csrf,n=t.return_code,r=t.return_msg;return a&&(m=a),"SUCCESS"===n?r:"GUEST"!==r?(Object(u.Message)(r),o.a.reject(r)):void(location.hash="#/login")},function(e){var t=e.response;return t?Object(u.Message)(t.status+":网络错误，请刷新重试"):Object(u.Message)("请求超时，请刷新重试"),o.a.reject(e)});var v="/login/login",h="/login/validate-phone",b="/login/logout",_=function(e){return g(v,e)},w=function(e){return g(h,e)},y=function(e){return f(b,e)},S={data:function(){return{userName:sessionStorage.getItem("userName")||""}},methods:{signOut:function(){var e=this;y().then(function(){e.userName="",e.$router.push("/login"),sessionStorage.setItem("lastPage","/"),sessionStorage.setItem("userName","")})}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("header",{directives:[{name:"show",rawName:"v-show",value:!e.$route.path.match("login"),expression:"!$route.path.match('login')"}]},[a("a",{staticClass:"logo"},[e._v("爱豆子数据运营系统")]),e._v(" "),a("ul",{staticClass:"user-items"},[a("li",{directives:[{name:"show",rawName:"v-show",value:""!==e.userName,expression:"userName !== ''"}],staticClass:"item user-name"},[e._v(e._s(e.userName))]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:""!==e.userName,expression:"userName !== ''"}],staticClass:"item sign-out",on:{click:e.signOut}},[e._v("\n                退出\n            ")])])]),e._v(" "),a("router-view",{attrs:{userName:e.userName},on:{"update:userName":function(t){e.userName=t}}})],1)},staticRenderFns:[]};var x=a("Z0/y")(S,D,!1,function(e){a("9aVa")},"data-v-76d8b299",null).exports,k=a("zO6J"),C=a("xomc"),z=a.n(C),F="";switch(z.a.getEnv()){case"dev":F="http://weixindc-dev.idouzi.com";break;case"test":F="http://weixindc-test.idouzi.com";break;case"prod":default:F="http://weixindc.idouzi.com"}var N={curLink:F,MENUS:[{name:"SEO数据",class:"fa fa-diamond",children:[{name:"效果报告",link:"/index/seo/EffectReport"},{name:"自媒体专区",link:"/index/seo/WeMedia"},{name:"外链专区",link:"/index/seo/ExternalLink"},{name:"搜索引擎专区",link:"/index/seo/SearchEngine"},{name:"直接访问",link:"/index/seo/DirectVisit"},{name:"渠道管理",link:"/index/seo/OriginManage/-1"}]}]},L={data:function(){return{menus:N.MENUS,matchOriginManage:!1}},watch:{$route:function(e,t){-1!=e.path.indexOf("/index/seo/OriginManage")?this.matchOriginManage=!0:this.matchOriginManage=!1}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",{staticClass:"layout-aside"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b","default-active":e.$route.path,router:!0}},e._l(e.menus,function(t,n){return a("div",{key:n},[t.children?a("el-submenu",{attrs:{index:n.toString()}},[a("template",{slot:"title"},[a("i",{class:t.class}),e._v(" "),a("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return a("el-menu-item",{key:t.link,class:{active:-1!=t.link.indexOf("/index/seo/OriginManage")&&e.matchOriginManage},attrs:{index:t.link}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})],2):e._e(),e._v(" "),t.children?e._e():a("el-menu-item",{attrs:{index:t.link}},[a("i",{class:t.class}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])],1)}))],1)},staticRenderFns:[]};var E={components:{LayoutAside:a("Z0/y")(L,M,!1,function(e){a("Vi8x")},null,null).exports}},P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-layout"},[t("main",[t("LayoutAside"),this._v(" "),t("router-view",{staticClass:"layout-content"})],1)])},staticRenderFns:[]};var O=a("Z0/y")(E,P,!1,function(e){a("+pK0")},"data-v-77123374",null).exports,T={props:{userName:String},data:function(){return{isHasMsg:!1,isMsgBtnDisable:!1,msgBtnTxt:"获取验证码",loginForm:{username:"",password:"",msgCode:-1!==location.href.indexOf("-dev")?"123457":""},formErrTxt:"",loginRules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],msgCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}}},beforeRouteEnter:function(e,t,a){sessionStorage.setItem("lastPage",t.path),a()},methods:{timeCountDown:function(){var e=this,t=60,a=setInterval(function(){0===--t?(e.isMsgBtnDisable=!1,e.msgBtnTxt="获取验证码",clearInterval(a)):e.msgBtnTxt="重新获取（"+t+"）"},1e3)},getMsgCode:function(){var e=this,t=e.loginForm,a=t.username.trim(),n=t.password.trim(),r="";""===a?r="请输入用户名":""===n&&(r="请输入密码"),r?e.formErrTxt=r:(e.isMsgBtnDisable=!0,_({username:a,password:n}).then(function(){e.isHasMsg=!0,e.timeCountDown()}).catch(function(){e.isMsgBtnDisable=!1}))},checkMsgCode:function(){var e=this,t="",a=e.loginForm.msgCode.trim();""===a?t="请输入验证码":e.isHasMsg||(t="请先获取验证码"),t?e.formErrTxt=t:w({msgCode:a}).then(function(t){sessionStorage.setItem("userName",t),e.$emit("update:userName",t);var a=sessionStorage.getItem("lastPage");"/"!==a?e.$router.push(a):e.$router.push("/index/seo/EffectReport")})}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-login"},[a("h1",{staticClass:"title"},[e._v("爱豆子数据系统")]),e._v(" "),a("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{size:"small"},on:{focus:function(t){e.formErrTxt=""}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",size:"small"},on:{focus:function(t){e.formErrTxt=""}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),a("el-form-item",{staticClass:"msg-wrap",attrs:{label:"验证码",prop:"msgCode"}},[a("el-input",{attrs:{size:"small"},on:{focus:function(t){e.formErrTxt=""}},model:{value:e.loginForm.msgCode,callback:function(t){e.$set(e.loginForm,"msgCode",t)},expression:"loginForm.msgCode"}})],1),e._v(" "),a("el-button",{staticClass:"msg-btn",attrs:{size:"small",type:"primary",disabled:e.isMsgBtnDisable},on:{click:e.getMsgCode}},[e._v("\n            "+e._s(e.msgBtnTxt)+"\n        ")]),e._v(" "),a("el-button",{staticClass:"login-btn",attrs:{size:"small",type:"primary"},on:{click:e.checkMsgCode}},[e._v("登  录")]),e._v(" "),a("p",{staticClass:"error-tip"},[e._v(e._s(e.formErrTxt))])],1)],1)},staticRenderFns:[]};var Z=a("Z0/y")(T,$,!1,function(e){a("Gxed")},"data-v-2cdc2bc6",null).exports,B="/user/show-channel-source",U="/user/get-source-data",I="/user/source-zone",R=function(e){return f(B,e)},V=function(e){return f(I,e)},G=function(e){return f(U,e)},q=function(e){return g(I,e)},j=function(e){return function(e,t){return new o.a(function(a,n){s.a.delete(e,t).then(function(e){a(e)},function(e){n(e)}).catch(function(e){n(e)})})}(I,e)},A=function(e){return function(e,t,a){return new o.a(function(n,r){s.a.put(e,t,a).then(function(e){n(e)},function(e){r(e)}).catch(function(e){r(e)})})}(I,e)},H={data:function(){return{sumList:{spv:0,suv:0,sregisterNum:0,sbindNum:0,spayNum:0},dateSelected:[new Date,new Date],tableData:[],totalPage:1,nowPage:1,orderBy:"date",order:"asc",tableLoading:!1,pickDate:[null,null]}},created:function(){this.dateSelected[0]=new Date(Date.now()-5184e5)},computed:{pickerOptions:function(){var e=this;return{disabledDate:function(t){var a=t.getTime()>(new Date).getTime();e.pickDate;if(e.pickDate[0]&&!e.pickDate[1]){var n=e.pickDate[0].getTime();a=a||Math.abs(t.getTime()-n)>=31536e6}return a},onPick:function(t){t.minDate&&!t.maxDate?(e.pickDate[0]=t.minDate,e.pickDate[1]=null):t.minDate&&t.maxDate&&(e.pickDate[0]=null)}}}},methods:{percentFormat:function(e,t,a,n){return 0==a?0:(100*a).toFixed(2)+"%"},dateFormat:function(e,t,a,n){return a?(a=a.toString()).slice(0,4)+"-\n                    "+a.slice(4,6)+"-\n                    "+a.slice(6):""},showSummary:function(){var e=this.sumList;return["合计",e.spv,e.suv,e.sregisterNum,"/",e.sbindNum,"/",e.spayNum,"/"]},handleSortChange:function(e){this.orderBy=e.prop,this.order="ascending"===e.order?"asc":"desc",this.filterData()},filterData:function(){this.nowPage=1,this.getList()},getList:function(){var e=this,t={page:e.nowPage,order:e.order,orderBy:e.orderBy,sdate:z.a.formatTime(e.dateSelected[0],"yyyyMMdd"),edate:z.a.formatTime(e.dateSelected[1],"yyyyMMdd")};e.orderBy||(t.orderBy="_id",t.order="desc"),e.tableLoading=!0,G({params:t}).then(function(t){e.totalPage=t.totalPage,e.tableData=t.list,e.sumList=t.sumList[0]||{},e.tableLoading=!1}).catch(function(){e.tableLoading=!1})},exportData:function(){var e={order:"desc",orderBy:"_id",sdate:z.a.formatTime(this.dateSelected[0],"yyyyMMdd"),edate:z.a.formatTime(this.dateSelected[1],"yyyyMMdd")};if(this.tableData.length){var t=N.curLink+"/user/user-source-data-export?",a=function(a){"channelSource"===a?e[a].length&&(t+=a+"=",e[a].forEach(function(n,r){t+=e[a][r]+","}),t=t.slice(0,-1)+"&"):"platformSource"===a&&""===e[a]||(t+=a+"="+e[a]+"&")};for(var n in e)a(n);location.href=t.slice(0,-1)}else this.$message("未查询到相关数据")}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-effect-report"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("SEO数据")]),e._v(" "),a("el-breadcrumb-item",[e._v("投放效果")])],1),e._v(" "),a("div",{staticClass:"condition"},[a("div",{staticClass:"input-group"},[a("label",{staticClass:"label"},[e._v("时间")]),e._v(" "),a("el-date-picker",{staticClass:"item date-range-pick",attrs:{size:"small","picker-options":e.pickerOptions,"range-separator":"至",type:"daterange",editable:!1,clearable:!1,placeholder:"选择日期范围"},on:{change:e.filterData},model:{value:e.dateSelected,callback:function(t){e.dateSelected=t},expression:"dateSelected"}})],1),e._v(" "),a("div",{staticClass:"input-group"},[a("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:e.filterData}},[e._v("确定")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:e.exportData}},[e._v("导出")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,"default-sort":{prop:"_id",order:"descending"},"highlight-current-row":"",border:"",stripe:"","show-summary":"","summary-method":e.showSummary,size:"small"},on:{"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{prop:"_id",label:"日期",sortable:"custom","min-width":"100",formatter:e.dateFormat,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"pv",label:"展现量",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"uv",label:"UV",sortable:"custom","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"registerNum",label:"注册用户数","min-width":"100",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"registerNumPercent",label:"注册转化率",formatter:e.percentFormat,"min-width":"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bindNum",label:"绑定公众号用户数","min-width":"100",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bindNumPercent",label:"绑定率","min-width":"100",formatter:e.percentFormat,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"payNum",label:"付费用户数","min-width":"100",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"payNumPercent",label:"付费率","min-width":"100",formatter:e.percentFormat,"show-overflow-tooltip":""}})],1),e._v(" "),e.totalPage>1?a("el-pagination",{attrs:{"current-page":e.nowPage,"page-size":1,layout:"prev, pager, next",total:e.totalPage},on:{"current-change":e.getList,"update:currentPage":function(t){e.nowPage=t}}}):e._e()],1)},staticRenderFns:[]};var J=a("Z0/y")(H,W,!1,function(e){a("rwUn")},"data-v-aba9e210",null).exports,K={props:{zone:{default:0,type:Number},pageName:String},data:function(){return{channelSourceGroup:[{channelSource:""}],channelSource:[],sumList:{spv:0,suv:0,sregisterNum:0,sbindNum:0,spayNum:0},dateSelected:[new Date,new Date],platformSourceGroup:[{label:"全部",value:""},{label:"pc",value:"pc"},{label:"移动端",value:"phone"}],platformSource:"",tableData:[],totalPage:1,nowPage:1,orderBy:"date",order:"asc",tableLoading:!1,pickDate:[null,null]}},created:function(){var e=this;e.dateSelected[0]=new Date(Date.now()-5184e5),0!==e.zone&&R({params:{zone:e.zone}}).then(function(t){e.channelSourceGroup=t.channelSource})},computed:{pickerOptions:function(){var e=this;return{disabledDate:function(t){var a=t.getTime()>(new Date).getTime();e.pickDate;if(e.pickDate[0]&&!e.pickDate[1]){var n=e.pickDate[0].getTime();a=a||Math.abs(t.getTime()-n)>=31536e6}return a},onPick:function(t){t.minDate&&!t.maxDate?(e.pickDate[0]=t.minDate,e.pickDate[1]=null):t.minDate&&t.maxDate&&(e.pickDate[0]=null)}}}},methods:{percentFormat:function(e,t,a,n){return 0==a?0:(100*a).toFixed(2)+"%"},dateFormat:function(e,t,a,n){return a?(a=a.toString()).slice(0,4)+"-\n                    "+a.slice(4,6)+"-\n                    "+a.slice(6):""},showSummary:function(){var e=this.sumList;return["合计","/","/",e.spv,e.suv,e.sregisterNum,"/",e.sbindNum,"/",e.spayNum,"/"]},handleSortChange:function(e){this.orderBy=e.prop,this.order="ascending"===e.order?"asc":"desc",this.filterData()},filterData:function(){this.nowPage=1,this.getList()},getList:function(){var e=this,t={page:e.nowPage,platformSource:e.platformSource,order:e.order,orderBy:e.orderBy,sdate:z.a.formatTime(e.dateSelected[0],"yyyyMMdd"),edate:z.a.formatTime(e.dateSelected[1],"yyyyMMdd"),zone:e.zone};0!==e.zone&&(t.channelSource=e.channelSource),e.orderBy||(t.orderBy="dateTime",t.order="desc"),e.tableLoading=!0,G({params:t}).then(function(t){e.totalPage=t.totalPage,e.tableData=t.list,e.sumList=t.sumList[0]||{},e.tableLoading=!1}).catch(function(){e.tableLoading=!1})},exportData:function(){var e={platformSource:this.platformSource,order:"desc",orderBy:"dateTime",sdate:z.a.formatTime(this.dateSelected[0],"yyyyMMdd"),edate:z.a.formatTime(this.dateSelected[1],"yyyyMMdd"),zone:this.zone};if(0!==this.zone&&(e.channelSource=this.channelSource),this.tableData.length){var t=N.curLink+"/user/user-source-data-export?",a=function(a){"channelSource"===a?e[a].length&&(t+=a+"=",e[a].forEach(function(n,r){t+=e[a][r]+","}),t=t.slice(0,-1)+"&"):"platformSource"===a&&""===e[a]||(t+=a+"="+e[a]+"&")};for(var n in e)a(n);location.href=t.slice(0,-1)}else this.$message("未查询到相关数据")}}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-data-table"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("SEO数据")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.pageName))])],1),e._v(" "),a("div",{staticClass:"condition"},[0!==e.zone?a("div",{staticClass:"input-group"},[a("label",{staticClass:"label"},[e._v("来源渠道")]),e._v(" "),a("el-select",{staticClass:"item",attrs:{multiple:"",size:"small",placeholder:"全部"},on:{change:e.filterData},model:{value:e.channelSource,callback:function(t){e.channelSource=t},expression:"channelSource"}},e._l(e.channelSourceGroup,function(e,t){return a("el-option",{key:t,attrs:{value:e.channelSource}})}))],1):e._e(),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{staticClass:"label"},[e._v("时间")]),e._v(" "),a("el-date-picker",{staticClass:"item date-range-pick",attrs:{size:"small","picker-options":e.pickerOptions,"range-separator":"至",type:"daterange",editable:!1,clearable:!1,placeholder:"选择日期范围"},on:{change:e.filterData},model:{value:e.dateSelected,callback:function(t){e.dateSelected=t},expression:"dateSelected"}})],1),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{staticClass:"label"},[e._v("来源频道")]),e._v(" "),a("el-select",{staticClass:"item",attrs:{size:"small",placeholder:"请选择"},on:{change:e.filterData},model:{value:e.platformSource,callback:function(t){e.platformSource=t},expression:"platformSource"}},e._l(e.platformSourceGroup,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:e.filterData}},[e._v("确定")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:e.exportData}},[e._v("导出")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"small"}},[a("router-link",{attrs:{to:"/index/seo/OriginManage/"+e.zone}},[e._v("渠道管理")])],1)],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,"default-sort":{prop:"dateTime",order:"descending"},"highlight-current-row":"",border:"",stripe:"","show-summary":"","summary-method":e.showSummary,size:"small"},on:{"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{prop:"dateTime",label:"日期",sortable:"custom","min-width":"100",formatter:e.dateFormat,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"platformSource",label:"来源频道","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelSource",label:"来源渠道","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"pv",label:"展现量",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"uv",label:"UV",sortable:"custom","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"registerNum",label:"注册用户数","min-width":"100",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"registerNumPercent",label:"注册转化率",formatter:e.percentFormat,"min-width":"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bindNum",label:"绑定公众号用户数","min-width":"100",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bindNumPercent",label:"绑定率","min-width":"100",formatter:e.percentFormat,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"payNum",label:"付费用户数","min-width":"100",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"payNumPercent",label:"付费率","min-width":"100",formatter:e.percentFormat,"show-overflow-tooltip":""}})],1),e._v(" "),e.totalPage>1?a("el-pagination",{attrs:{"current-page":e.nowPage,"page-size":1,layout:"prev, pager, next",total:e.totalPage},on:{"current-change":e.getList,"update:currentPage":function(t){e.nowPage=t}}}):e._e()],1)},staticRenderFns:[]};var Q=a("Z0/y")(K,X,!1,function(e){a("qnbs")},"data-v-1ecfbb8c",null).exports,Y={components:{DataTable:Q}},ee={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-we-media"},[t("data-table",{attrs:{zone:3,pageName:"自媒体专区"}})],1)},staticRenderFns:[]},te=a("Z0/y")(Y,ee,!1,null,null,null).exports,ae={components:{DataTable:Q}},ne={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-search-engine"},[t("data-table",{attrs:{zone:1,pageName:"搜索引擎专区"}})],1)},staticRenderFns:[]},re=a("Z0/y")(ae,ne,!1,null,null,null).exports,oe={components:{DataTable:Q}},ie={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-search-engine"},[t("data-table",{attrs:{zone:2,pageName:"外链专区"}})],1)},staticRenderFns:[]},se=a("Z0/y")(oe,ie,!1,null,null,null).exports,le={data:function(){return{zoneGroup:[{label:"直接访问",value:"0"},{label:"搜索引擎",value:"1"},{label:"外链",value:"2"},{label:"自媒体",value:"3"}],selectedZone:"",tableData:[{channelSource:0,refererUrl:"",zoneId:""}],totalPage:1,nowPage:1,tableLoading:!1,isConfirmDialog:!1,isEditDialog:!1,editZoneId:0,editForm:{channelSource:"",refererUrl:"",zone:""},editOrAdd:"edit",submitLoding:!1,rules:{channelSource:[{required:!0,message:"渠道名称不能为空",trigger:"blur"}],refererUrl:[{required:!0,message:"链接不能为空",trigger:"blur"}],zone:[{required:!0,message:"请选择分区",trigger:"change"}]}}},created:function(){this.$route.params.zone;this.selectedZone=this.$route.params.zone,this.getList()},beforeRouteUpdate:function(e,t,a){this.selectedZone=e.params.zone,this.getList(),a()},methods:{filterData:function(){this.nowPage=1,this.getList()},getList:function(){var e=this,t={page:e.nowPage,zone:-1==e.selectedZone?"":e.selectedZone};e.tableLoading=!0,V({params:t}).then(function(t){e.totalPage=t.totalPage,e.tableData=t.list,e.tableLoading=!1}).catch(function(){e.tableLoading=!1})},showConfirmDialog:function(e){this.editZoneId=e,this.isConfirmDialog=!0},addOrigin:function(){var e=this.editForm;e.channelSource="",e.refererUrl="",this.editOrAdd="add",this.isEditDialog=!0},editOrigin:function(e){var t=this,a=t.editForm;a.channelSource=e.channelSource,a.refererUrl=e.refererUrl,t.editZoneId=parseInt(e.zoneId),t.editOrAdd="edit",t.isEditDialog=!0,t.$nextTick(function(){t.$refs.editForm.clearValidate()})},delOrigin:function(){var e=this;e.isConfirmDialog=!1,j({data:{zoneId:parseInt(e.editZoneId)}}).then(function(){e.$message("删除成功"),e.filterData()})},submitForm:function(){var e=this;e.$refs.editForm.validate(function(t){if(!t)return!1;if(e.submitLoding=!0,"add"===e.editOrAdd){var a=e.editForm,n={channelSource:a.channelSource,refererUrl:a.refererUrl,zone:a.zone};q(n).then(function(){e.$message("添加成功"),e.filterData(),e.submitLoding=!1,e.isEditDialog=!1}).catch(function(){e.submitLoding=!1})}else{var r=e.editForm,o={channelSource:r.channelSource,refererUrl:r.refererUrl,zoneId:e.editZoneId};A(o).then(function(){e.$message("编辑成功"),e.filterData(),e.submitLoding=!1,e.isEditDialog=!1}).catch(function(){e.submitLoding=!1})}})}}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-origin-manage"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("SEO数据")]),e._v(" "),a("el-breadcrumb-item",[e._v("渠道管理")])],1),e._v(" "),a("div",{staticClass:"condition"},[a("div",{staticClass:"input-group"},[a("label",{staticClass:"label"},[e._v("来源分区")]),e._v(" "),a("el-select",{staticClass:"item",attrs:{size:"small"},on:{change:e.filterData},model:{value:e.selectedZone,callback:function(t){e.selectedZone=t},expression:"selectedZone"}},[a("el-option",{attrs:{label:"全部",value:"-1"}}),e._v(" "),e._l(e.zoneGroup,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})],2)],1),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:e.addOrigin}},[e._v("\n            添加渠道\n        ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,"highlight-current-row":"",border:"",stripe:"",size:"small"}},[a("el-table-column",{attrs:{prop:"channelSource",label:"渠道名称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"refererUrl",label:"渠道链接","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"zoneId",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:function(a){e.editOrigin(t.row)}}},[e._v("\n                    编辑\n                ")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"small",type:"danger"},on:{click:function(a){e.showConfirmDialog(t.row.zoneId)}}},[e._v("\n                    删除\n                ")])]}}])})],1),e._v(" "),e.totalPage>1?a("el-pagination",{attrs:{"current-page":e.nowPage,"page-size":1,layout:"prev, pager, next",total:e.totalPage},on:{"current-change":e.getList,"update:currentPage":function(t){e.nowPage=t}}}):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.isConfirmDialog,width:"350px"},on:{"update:visible":function(t){e.isConfirmDialog=t}}},[a("p",{staticClass:"confirm-txt"},[e._v("确认删除？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.isConfirmDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.delOrigin}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"add"===e.editOrAdd?"添加渠道":"编辑渠道",visible:e.isEditDialog,width:"450px"},on:{"update:visible":function(t){e.isEditDialog=t}}},[a("div",{staticClass:"dialog-content"},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"渠道名称",prop:"channelSource"}},[a("el-input",{attrs:{size:"small"},model:{value:e.editForm.channelSource,callback:function(t){e.$set(e.editForm,"channelSource",t)},expression:"editForm.channelSource"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道链接",prop:"refererUrl"}},[a("el-input",{attrs:{size:"small"},model:{value:e.editForm.refererUrl,callback:function(t){e.$set(e.editForm,"refererUrl",t)},expression:"editForm.refererUrl"}})],1),e._v(" "),"add"===e.editOrAdd?a("el-form-item",{attrs:{label:"所属分区",prop:"zone"}},[a("el-select",{attrs:{size:"small"},model:{value:e.editForm.zone,callback:function(t){e.$set(e.editForm,"zone",t)},expression:"editForm.zone"}},e._l(e.zoneGroup,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1):e._e()],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.isEditDialog=!1}}},[e._v("\n                取 消\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.submitLoding,size:"small"},on:{click:e.submitForm}},[e._v("\n                确 定\n            ")])],1)])],1)},staticRenderFns:[]};var ue=a("Z0/y")(le,ce,!1,function(e){a("JWxX")},"data-v-749d6a1f",null).exports,de={components:{DataTable:Q}},me={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-direct-visit"},[t("data-table",{attrs:{zone:0,pageName:"直接访问"}})],1)},staticRenderFns:[]},pe=a("Z0/y")(de,me,!1,null,null,null).exports;n.default.use(k.a);var fe=new k.a({routes:[{path:"/",redirect:"/index/seo/EffectReport"},{path:"/index",name:"Index",component:O,children:[{path:"seo/EffectReport",name:"EffectReport",component:J},{path:"seo/WeMedia",name:"WeMedia",component:te},{path:"seo/SearchEngine",name:"SearchEngine",component:re},{path:"seo/ExternalLink",name:"ExternalLink",component:se},{path:"seo/DirectVisit",name:"DirectVisit",component:pe},{path:"seo/OriginManage/:zone",name:"OriginManage",component:ue}]},{path:"/login",name:"Login",component:Z}]});a("rZ9o"),a("HBSQ"),a("briU"),a("991W"),a("w/9h");n.default.config.productionTip=!0,n.default.use(d.a),new n.default({router:fe,render:function(e){return e(x)}}).$mount("#app")},Vi8x:function(e,t){},qnbs:function(e,t){},rZ9o:function(e,t){},rwUn:function(e,t){},"w/9h":function(e,t){}},["NHnr"]);